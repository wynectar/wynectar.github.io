import{d as E,r as n,u as N,w as S,o as C,a as L,b as T,c as _,e as u,f as V,g as b,h as p,v as U,i as v,j as k,n as q,k as R,l as y,t as j,m as s,_ as z}from"./index-BkTa8GwT.js";const A={class:"full"},H={key:1,class:"full"},I=E({__name:"BlogDetail",setup(M){const r=n(),f=N(),c=n(!1),g=S(()=>f.isDark,()=>{m()});function m(){var t,o,a,h;const e=(o=(t=r.value)==null?void 0:t.contentDocument)==null?void 0:o.querySelector("html");e&&(f.isDark?(h=(a=r.value)==null?void 0:a.contentDocument)==null||h.querySelector("html").classList.add("dark"):e.classList.remove("dark"),q(()=>{c.value=!0}))}C(()=>{g()});const{route:D}=L(),l=`/docs/${D.params.id}.html`,d=n(!0),i=n(!1);async function w(){try{const e=await fetch(l,{method:"HEAD",mode:"no-cors",cache:"no-cache"});i.value=e.ok}catch(e){console.error("检查 URL 失败:",e),i.value=!1}finally{d.value=!1}}function x(){console.log("iframe 加载成功"),m()}function B(){console.error("iframe 加载失败")}return T(()=>{w()}),(e,t)=>{const o=k("n-result"),a=k("n-spin");return s(),_("div",A,[d.value?(s(),u(o,{key:0,status:"418",title:"检查页面是否存在...",description:""})):i.value?(s(),_("div",H,[c.value?V("",!0):(s(),u(o,{key:0,status:"418",title:"主题切换中..."},{icon:p(()=>[R(a,{size:"large"})]),_:1})),b(v("iframe",{src:l,onLoad:x,onError:B,width:"100%",height:"100%",frameborder:"0",ref_key:"iframe",ref:r},null,544),[[U,c.value]])])):(s(),u(o,{key:2,status:"403",title:"页面不存在"},{footer:p(()=>[t[0]||(t[0]=y(" 请求的页面 ")),v("code",null,j(l)),t[1]||(t[1]=y(" 不存在! "))]),_:1}))])}}}),G=z(I,[["__scopeId","data-v-a0b6f2af"]]);export{G as default};
