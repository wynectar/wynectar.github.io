import{d as E,r as c,u as N,w as S,o as C,a as L,b as T,c as _,e as m,f as V,g as b,h as p,v as U,i as k,j as v,n as q,k as R,l as g,t as j,m as s,_ as z}from"./index-BmGw_APX.js";const A={class:"full"},H={key:1,class:"full"},I=E({__name:"BlogDetail",setup(M){const l=c(),a=N(),n=c(!a.isDark);console.log(n.value,a.isDark);const y=S(()=>a.isDark,()=>{d()});function d(){var t,o,r,h;const e=(o=(t=l.value)==null?void 0:t.contentDocument)==null?void 0:o.querySelector("html");e&&(a.isDark?(h=(r=l.value)==null?void 0:r.contentDocument)==null||h.querySelector("html").classList.add("dark"):e.classList.remove("dark"),q(()=>{n.value=!0}))}C(()=>{y()});const{route:D}=L(),i=`/docs/${D.params.id}.html`,f=c(!0),u=c(!1);async function w(){try{const e=await fetch(i,{method:"HEAD",mode:"no-cors",cache:"no-cache"});u.value=e.ok}catch(e){console.error("检查 URL 失败:",e),u.value=!1}finally{f.value=!1}}function x(){console.log("iframe 加载成功"),d()}function B(){console.error("iframe 加载失败")}return T(()=>{w()}),(e,t)=>{const o=v("n-result"),r=v("n-spin");return s(),_("div",A,[f.value?(s(),m(o,{key:0,status:"418",title:"检查页面是否存在...",description:""})):u.value?(s(),_("div",H,[n.value?V("",!0):(s(),m(o,{key:0,status:"418",title:"主题切换中..."},{icon:p(()=>[R(r,{size:"large"})]),_:1})),b(k("iframe",{src:i,onLoad:x,onError:B,width:"100%",height:"100%",frameborder:"0",ref_key:"iframe",ref:l},null,544),[[U,n.value]])])):(s(),m(o,{key:2,status:"403",title:"页面不存在"},{footer:p(()=>[t[0]||(t[0]=g(" 请求的页面 ")),k("code",null,j(i)),t[1]||(t[1]=g(" 不存在! "))]),_:1}))])}}}),G=z(I,[["__scopeId","data-v-b88710d3"]]);export{G as default};
