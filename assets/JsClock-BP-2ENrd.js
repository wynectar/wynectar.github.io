import{r as _,j as P,D as I,c as T,o as B,v as w}from"./index-wdB6x4Re.js";const H=["width","height"],b={__name:"JsClock",props:{size:{type:Number,default:268},shadowBlur:{type:Number,default:10}},setup(p){const C=p,M=_(null);let u=null,t=null;const{size:s,shadowBlur:v}=C,o=s/2,a=s/2-v;function y(){t||(t=M.value.getContext("2d"));const e=new Date;t.clearRect(0,0,s,s),t.beginPath(),t.arc(o,o,a,0,2*Math.PI);let n=t.createRadialGradient(o,o,0,o,o,a);n.addColorStop(0,"#fff"),n.addColorStop(.4,"#fff"),n.addColorStop(1,"yellow"),t.fillStyle=n,t.shadowBlur=v,t.shadowColor="orange",t.fill(),k(t,12,a*.02),k(t,60,a*.01),t.save(),t.font=`bold ${o/10}px Arial`;const l=`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}`,i=t.measureText(l).width;t.fillStyle="#333",t.fillText(l,(s-i)/2,o*1.5),t.textAlign="center",t.fill(),t.restore(),g(t,e,"hour",a*.3,a*.05),g(t,e,"min",a*.5,a*.03),g(t,e,"sec",a*.8,a*.01)}function k(e,n,l,i=10){e.save(),e.lineWidth=l,e.strokeStyle="#999";const c=l*5,d=-60;for(var r=0;r<n;r++){if(r%5===0&&n===60)continue;const h=Math.cos((r*360/n+d)*Math.PI/180),f=Math.sin((r*360/n+d)*Math.PI/180);e.beginPath(),e.moveTo(o+(a-c)*h,o+(a-c)*f),e.lineTo(o+a*h,o+a*f),e.stroke(),n===12&&(e.fillStyle="#666",e.fillText(r+1,o+(a-c-i)*h,o+(a-c-i)*f),e.textAlign="center",e.fill())}e.restore()}function g(e,n,l,i,c){const d=n.getSeconds()/60,r=(n.getMinutes()+d)/60,f={hour:(n.getHours()%12+r)/12,min:r,sec:d},S={hour:"#333",min:"red",sec:"rgb(0, 255, 0)"},m=f[l]*2*Math.PI-.5*Math.PI;e.save(),e.beginPath(),e.strokeStyle=S[l],e.lineWidth=c,e.lineCap="round",e.moveTo(o,o),e.lineTo(o+i*Math.cos(m),o+i*Math.sin(m)),e.stroke(),e.restore()}return P(()=>{u=setInterval(y,1e3)}),I(()=>{u&&clearInterval(u),t=null}),(e,n)=>(B(),T("canvas",{ref_key:"clockCanvas",ref:M,width:w(s),height:w(s)},null,8,H))}};export{b as default};
