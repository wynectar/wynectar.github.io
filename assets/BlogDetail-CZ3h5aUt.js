import{d as E,r as n,u as N,w as S,o as C,a as L,b as R,c as _,e as u,f as T,g as V,h as p,v as U,i as v,j as k,n as b,k as q,l as y,t as $,m as s,_ as j}from"./index-B3qWU_rR.js";const z={class:"full"},A={key:1,class:"full"},H=E({__name:"BlogDetail",setup(I){const r=n(),f=N(),c=n(!1),g=S(()=>f.isDark,()=>{m()});function m(){var t,o,a,h;const e=(o=(t=r.value)==null?void 0:t.contentDocument)==null?void 0:o.querySelector("html");e&&(f.isDark?(h=(a=r.value)==null?void 0:a.contentDocument)==null||h.querySelector("html").classList.add("dark"):e.classList.remove("dark"),b(()=>{c.value=!0}))}C(()=>{g()});const{route:D}=L(),l=`/docs/${D.params.id}.html?v=${Date.now()}`,d=n(!0),i=n(!1);async function w(){try{const e=await fetch(l,{method:"HEAD",mode:"no-cors",cache:"no-cache"});i.value=e.ok}catch(e){console.error("检查 URL 失败:",e),i.value=!1}finally{d.value=!1}}function x(){console.log("iframe 加载成功"),m()}function B(){console.error("iframe 加载失败")}return R(()=>{w()}),(e,t)=>{const o=k("n-result"),a=k("n-spin");return s(),_("div",z,[d.value?(s(),u(o,{key:0,status:"418",title:"检查页面是否存在...",description:""})):i.value?(s(),_("div",A,[c.value?T("",!0):(s(),u(o,{key:0,status:"418",title:"主题切换中..."},{icon:p(()=>[q(a,{size:"large"})]),_:1})),V(v("iframe",{src:l,onLoad:x,onError:B,width:"100%",height:"100%",frameborder:"0",ref_key:"iframeRef",ref:r},null,544),[[U,c.value]])])):(s(),u(o,{key:2,status:"403",title:"页面不存在"},{footer:p(()=>[t[0]||(t[0]=y(" 请求的页面 ")),v("code",null,$(l)),t[1]||(t[1]=y(" 不存在! "))]),_:1}))])}}}),G=j(H,[["__scopeId","data-v-2a39d424"]]);export{G as default};
