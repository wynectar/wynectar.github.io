import{d as E,r as n,u as N,w as S,o as C,a as L,b as T,c as _,e as m,f as V,g as b,h as p,v as U,i as k,j as v,n as q,k as R,l as y,t as j,m as s,_ as z}from"./index-CVH9jRvY.js";const A={class:"full"},H={key:1,class:"full"},I=E({__name:"BlogDetail",setup(M){const r=n(),c=N(),l=n(!c.isDark),g=S(()=>c.isDark,()=>{f()});function f(){var t,o,a,h;const e=(o=(t=r.value)==null?void 0:t.contentDocument)==null?void 0:o.querySelector("html");e&&(c.isDark?(h=(a=r.value)==null?void 0:a.contentDocument)==null||h.querySelector("html").classList.add("dark"):e.classList.remove("dark"),q(()=>{l.value=!0}))}C(()=>{g()});const{route:D}=L(),i=`/docs/${D.params.id}.html`,d=n(!0),u=n(!1);async function w(){try{const e=await fetch(i,{method:"HEAD",mode:"no-cors",cache:"no-cache"});u.value=e.ok}catch(e){console.error("检查 URL 失败:",e),u.value=!1}finally{d.value=!1}}function x(){console.log("iframe 加载成功"),f()}function B(){console.error("iframe 加载失败")}return T(()=>{w()}),(e,t)=>{const o=v("n-result"),a=v("n-spin");return s(),_("div",A,[d.value?(s(),m(o,{key:0,status:"418",title:"检查页面是否存在...",description:""})):u.value?(s(),_("div",H,[l.value?V("",!0):(s(),m(o,{key:0,status:"418",title:"主题切换中..."},{icon:p(()=>[R(a,{size:"large"})]),_:1})),b(k("iframe",{src:i,onLoad:x,onError:B,width:"100%",height:"100%",frameborder:"0",ref_key:"iframe",ref:r},null,544),[[U,l.value]])])):(s(),m(o,{key:2,status:"403",title:"页面不存在"},{footer:p(()=>[t[0]||(t[0]=y(" 请求的页面 ")),k("code",null,j(i)),t[1]||(t[1]=y(" 不存在! "))]),_:1}))])}}}),G=z(I,[["__scopeId","data-v-80f62b4d"]]);export{G as default};
