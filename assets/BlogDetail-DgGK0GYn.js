import{d as w,r as t,u as x,w as B,o as E,a as S,b as L,c as s,e as T,v as N,f as n,g as k,t as U,n as b,h as a}from"./index-krW6v5Lg.js";const q={key:0,class:"loading"},R={key:1},V={key:2,class:"not-found"},M=w({__name:"BlogDetail",setup(A){const r=t(),i=x(),u=t(!1),p=B(()=>i.isDark,()=>{d()});function d(){var e,m,h,v;const o=(m=(e=r.value)==null?void 0:e.contentDocument)==null?void 0:m.querySelector("html");o&&(i.isDark?(v=(h=r.value)==null?void 0:h.contentDocument)==null||v.querySelector("html").classList.add("dark"):o.classList.remove("dark"),b(()=>{u.value=!0}))}E(()=>{p()});const{route:y}=S(),c=`/docs/${y.params.id}.html`,f=t(!0),l=t(!1);async function g(){try{const o=await fetch(c,{method:"HEAD",mode:"no-cors",cache:"no-cache"});l.value=o.ok}catch(o){console.error("检查 URL 失败:",o),l.value=!1}finally{f.value=!1}}function _(){console.log("iframe 加载成功"),d()}function D(){console.error("iframe 加载失败")}return L(()=>{g()}),(o,e)=>(a(),s("div",null,[f.value?(a(),s("div",q,"检查页面是否存在...")):l.value?(a(),s("div",R,[T(n("iframe",{src:c,onLoad:_,onError:D,width:"100%",height:"800",frameborder:"0",ref_key:"iframe",ref:r},null,544),[[N,u.value]])])):(a(),s("div",V,[e[2]||(e[2]=n("h3",null,"页面不存在",-1)),n("p",null,[e[0]||(e[0]=k("请求的页面 ")),n("code",null,U(c)),e[1]||(e[1]=k(" 不存在"))])]))]))}});export{M as default};
